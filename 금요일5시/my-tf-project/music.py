import winsound
import time

# 1. 음계별 주파수(Hz) 저장하기
scale = {
    '도': 261, '레': 294, '미': 330, '파': 349, 
    '솔': 392, '라': 440, '시': 493, '높은도': 523
}

# 2. 1박의 기준 시간 정의 (BPM 100 기준)
# (연주 0.5초 + 쉼 0.1초 = 총 0.6초가 1박)
BASE_BEEP_MS = 500  # 1박 연주 소리 길이 (0.5초)
BASE_SLEEP_SEC = 0.1  # 음과 음 사이의 쉼 (0.1초)

# 1박의 총 시간 (초)
BEAT_TOTAL_SEC = (BASE_BEEP_MS / 1000) + BASE_SLEEP_SEC # 0.6초

# 3. '비행기' 멜로디 리스트 만들기 (음이름, 박자수)
# [('미', 1), ('레', 1), ('도', 1), ('레', 1), ('미', 1), ('미', 1), ('미', 2)]
# [('레', 1), ('레', 1), ('레', 2), ('미', 1), ('솔', 1), ('솔', 2)]
# ...
melody_data = [
    # 1소절: 미(1) 레(1) 도(1) 레(1) | 미(1) 미(1) 미(2)
    ('미', 1), ('레', 1), ('도', 1), ('레', 1), ('미', 1), ('미', 1), ('미', 2),

    # 2소절: 레(1) 레(1) 레(2) | 미(1) 솔(1) 솔(2)
    ('레', 1), ('레', 1), ('레', 2), ('미', 1), ('솔', 1), ('솔', 2),
    
    # 3소절: 미(1) 레(1) 도(1) 레(1) | 미(1) 미(1) 미(2)
    ('미', 1), ('레', 1), ('도', 1), ('레', 1), ('미', 1), ('미', 1), ('미', 2),
    
    # 4소절: 레(1) 레(1) 미(1) 레(1) | 도(2)
    ('레', 1), ('레', 1), ('미', 1), ('레', 1), ('도', 2)
]

# 4. 멜로디 연주하기
print("'비행기' (음표 길이 적용 Ver.) 연주를 시작합니다!")

for note, beats in melody_data:
    

    print(f"연주 중: {note} ({beats}박자)")
    
    # 1박자(beats=1)일 때: Beep(500)
    # 2박자(beats=2)일 때: Beep(500 + 100 + 500) = Beep(1100)
    # 3박자(beats=3)일 때: Beep(500 + 100 + 500 + 100 + 500) = Beep(1700)
    
    # 박자수(beats)에 맞는 소리 길이(ms) 계산
    # (기본 소리길이 * 박자수) + (중간 쉼 길이 * (박자수-1))
    beep_duration_ms = int((BASE_BEEP_MS * beats) + (BASE_SLEEP_SEC * 1000 * (beats - 1)))
    
    # 계산된 길이만큼 소리 연주
    winsound.Beep(scale[note], beep_duration_ms)
    
    # 음과 음 사이에 0.1초간 살짝 쉽니다.
    time.sleep(BASE_SLEEP_SEC)

print("연주 끝!")